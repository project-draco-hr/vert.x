{
  super.start();
  data=vertx.sharedData().getMap("data");
  if (isLocal()) {
    eb=(DefaultEventBus)vertx.eventBus();
    tu.appReady();
    startedResult.setResult(null);
  }
 else {
    VertxInternal vertxi=((VertxInternal)vertx);
    ClusterManager clusterManager=new FakeClusterManager(vertxi);
    eb=new DefaultEventBus(vertxi,0,"localhost",clusterManager,new AsyncResultHandler<Void>(){
      @Override public void handle(      AsyncResult<Void> asyncResult){
        if (asyncResult.succeeded()) {
          tu.appReady();
          startedResult.setResult(null);
        }
 else {
          startedResult.setFailure(asyncResult.cause());
        }
      }
    }
);
  }
}
