{
  if (errorCode < 0) {
    throw new IllegalArgumentException();
  }
  if (lastStreamId < 0) {
    throw new IllegalArgumentException();
  }
  connHandler.encoder().writeGoAway(handlerContext,lastStreamId,errorCode,debugData != null ? debugData.getByteBuf() : Unpooled.EMPTY_BUFFER,handlerContext.newPromise());
  channel.flush();
  return this;
}
