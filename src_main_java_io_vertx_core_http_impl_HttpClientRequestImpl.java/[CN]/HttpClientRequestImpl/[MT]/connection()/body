{
synchronized (getLock()) {
    if (conn == null) {
      throw new IllegalStateException("Not yet connected");
    }
    return conn.connection();
  }
}
