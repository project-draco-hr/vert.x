{
  vertx.createNetServer().connectHandler(new Handler<NetSocket>(){
    @Override public void handle(    NetSocket socket){
      InetSocketAddress addr=socket.remoteAddress();
      tu.azzert(addr.getHostName().startsWith("localhost"));
    }
  }
).listen(1234,new AsyncResultHandler<NetServer>(){
    @Override public void handle(    AsyncResult<NetServer> ar){
      if (ar.succeeded()) {
        vertx.createNetClient().connect(1234,new AsyncResultHandler<NetSocket>(){
          @Override public void handle(          AsyncResult<NetSocket> result){
            NetSocket socket=result.result();
            InetSocketAddress addr=socket.remoteAddress();
            tu.azzert(addr.getHostName().equals("localhost"));
            tu.azzert(addr.getPort() == 1234);
            tu.testComplete();
          }
        }
);
      }
 else {
        ar.cause().printStackTrace();
      }
    }
  }
);
}
