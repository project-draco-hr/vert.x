{
  AsyncResultHandler<HttpServer> handler=new AsyncResultHandler<HttpServer>(){
    @Override public void handle(    AsyncResult<HttpServer> ar){
      tu.azzert(ar.succeeded());
      HttpClientRequest req=getRequest(true,"POST","some-uri",new Handler<HttpClientResponse>(){
        public void handle(        HttpClientResponse resp){
          tu.checkThread();
        }
      }
);
      req.end();
      Buffer buff=new Buffer();
      try {
        req.end();
        tu.azzert(false,"Should throw exception");
      }
 catch (      IllegalStateException e) {
      }
      try {
        req.continueHandler(new VoidHandler(){
          @Override protected void handle(){
          }
        }
);
        tu.azzert(false,"Should throw exception");
      }
 catch (      IllegalStateException e) {
      }
      try {
        req.drainHandler(new VoidHandler(){
          @Override protected void handle(){
          }
        }
);
        tu.azzert(false,"Should throw exception");
      }
 catch (      IllegalStateException e) {
      }
      try {
        req.end("foo");
        tu.azzert(false,"Should throw exception");
      }
 catch (      IllegalStateException e) {
      }
      try {
        req.end(buff);
        tu.azzert(false,"Should throw exception");
      }
 catch (      IllegalStateException e) {
      }
      try {
        req.end("foo","UTF-8");
        tu.azzert(false,"Should throw exception");
      }
 catch (      IllegalStateException e) {
      }
      try {
        req.exceptionHandler(new Handler<Throwable>(){
          public void handle(          Throwable t){
          }
        }
);
        tu.azzert(false,"Should throw exception");
      }
 catch (      IllegalStateException e) {
      }
      try {
        req.sendHead();
        tu.azzert(false,"Should throw exception");
      }
 catch (      IllegalStateException e) {
      }
      try {
        req.setChunked(false);
        tu.azzert(false,"Should throw exception");
      }
 catch (      IllegalStateException e) {
      }
      try {
        req.setWriteQueueMaxSize(123);
        tu.azzert(false,"Should throw exception");
      }
 catch (      IllegalStateException e) {
      }
      try {
        req.write(buff);
        tu.azzert(false,"Should throw exception");
      }
 catch (      IllegalStateException e) {
      }
      try {
        req.write("foo");
        tu.azzert(false,"Should throw exception");
      }
 catch (      IllegalStateException e) {
      }
      try {
        req.write("foo","UTF-8");
        tu.azzert(false,"Should throw exception");
      }
 catch (      IllegalStateException e) {
      }
      try {
        req.write(buff);
        tu.azzert(false,"Should throw exception");
      }
 catch (      IllegalStateException e) {
      }
      try {
        req.writeQueueFull();
        tu.azzert(false,"Should throw exception");
      }
 catch (      IllegalStateException e) {
      }
      tu.testComplete();
    }
  }
;
  startServer(new Handler<HttpServerRequest>(){
    public void handle(    HttpServerRequest req){
      tu.checkThread();
    }
  }
,handler);
}
