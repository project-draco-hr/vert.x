{
  log.trace("Registering module: " + deployment.modID);
  Set<Deployment> deps=deployments.get(deployment.modID);
  if (deps == null) {
    Set<File> watched=new HashSet<>();
    List<URL> totCP=new ArrayList<>();
    Collections.addAll(totCP,deployment.classpath);
    if (deployment.includedClasspath != null) {
      Collections.addAll(totCP,deployment.includedClasspath);
    }
    for (    URL url : totCP) {
      String sfile=url.getFile();
      if (sfile != null) {
        File file=new File(sfile);
        if (file.isDirectory()) {
          addDirectory(watched,file);
        }
      }
    }
    watchedDirs.put(deployment.modID,watched);
    deps=new HashSet<>();
    deployments.put(deployment.modID,deps);
  }
  deps.add(deployment);
  if (!scannerStarted) {
    setTimer();
    scannerStarted=true;
  }
}
