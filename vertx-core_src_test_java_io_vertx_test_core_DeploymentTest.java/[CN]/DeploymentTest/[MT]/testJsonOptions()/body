{
  JsonObject config=new JsonObject().putString("foo","bar");
  Random rand=new Random();
  boolean worker=rand.nextBoolean();
  boolean multiThreaded=rand.nextBoolean();
  String isolationGroup=TestUtils.randomAlphaString(100);
  boolean ha=rand.nextBoolean();
  List<String> cp=Arrays.asList("foo","bar");
  JsonObject json=new JsonObject();
  json.putObject("config",config);
  json.putBoolean("worker",worker);
  json.putBoolean("multiThreaded",multiThreaded);
  json.putString("isolationGroup",isolationGroup);
  json.putBoolean("ha",ha);
  json.putArray("extraClasspath",new JsonArray(cp));
  DeploymentOptions copy=DeploymentOptions.optionsFromJson(json);
  assertEquals(worker,copy.isWorker());
  assertEquals(multiThreaded,copy.isMultiThreaded());
  assertEquals(isolationGroup,copy.getIsolationGroup());
  assertNotSame(config,copy.getConfig());
  assertEquals("bar",copy.getConfig().getString("foo"));
  assertEquals(ha,copy.isHA());
  assertEquals(cp,copy.getExtraClasspath());
  assertNotSame(cp,copy.getExtraClasspath());
}
