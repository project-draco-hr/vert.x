{
  String[] contents={"","-----BEGIN PRIVATE KEY-----","-----BEGIN PRIVATE KEY-----\n-----END PRIVATE KEY-----","-----BEGIN PRIVATE KEY-----\n*\n-----END PRIVATE KEY-----"};
  String[] messages={"Missing -----BEGIN PRIVATE KEY----- delimiter","Missing -----END PRIVATE KEY----- delimiter","Empty pem file","Input byte[] should at least have 2 bytes for base64 bytes"};
  for (int i=0; i < contents.length; i++) {
    Path file=Files.createTempFile("vertx",".pem");
    file.toFile().deleteOnExit();
    Files.write(file,Collections.singleton(contents[i]));
    String expectedMessage=messages[i];
    testInvalidKeyStore(((KeyCertOptions)getServerCertOptions(KS.PEM)).setKeyPath(file.toString()),expectedMessage);
  }
}
