{
  int port=4523;
  String host=TestUtils.randomAlphaString(100);
  Headers headers=new CaseInsensitiveHeaders();
  headers.add("foo","bar");
  String uri=TestUtils.randomAlphaString(100);
  JsonObject json=new JsonObject();
  json.putNumber("port",port);
  json.putString("host",host);
  json.putString("requestURI",uri);
  JsonObject jheaders=new JsonObject();
  jheaders.putString("foo","bar");
  json.putObject("headers",jheaders);
  RequestOptions copy=RequestOptions.optionsFromJson(json);
  assertEquals(port,copy.getPort());
  assertEquals(host,copy.getHost());
  assertEquals(uri,copy.getRequestURI());
  assertEquals("bar",copy.getHeaders().get("foo"));
  testComplete();
}
