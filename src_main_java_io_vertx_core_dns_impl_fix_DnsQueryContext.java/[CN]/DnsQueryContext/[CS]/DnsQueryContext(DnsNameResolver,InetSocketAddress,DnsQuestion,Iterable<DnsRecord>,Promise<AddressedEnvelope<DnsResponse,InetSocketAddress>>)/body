{
  this.parent=checkNotNull(parent,"parent");
  this.nameServerAddr=checkNotNull(nameServerAddr,"nameServerAddr");
  this.question=checkNotNull(question,"question");
  this.additional=checkNotNull(additional,"additional");
  this.promise=checkNotNull(promise,"promise");
  recursionDesired=parent.isRecursionDesired();
  id=parent.queryContextManager.add(this);
  if (parent.isOptResourceEnabled()) {
    optResource=new DefaultDnsRawRecord(StringUtil.EMPTY_STRING,DnsRecordType.OPT,parent.maxPayloadSize(),0,Unpooled.EMPTY_BUFFER);
  }
 else {
    optResource=null;
  }
}
