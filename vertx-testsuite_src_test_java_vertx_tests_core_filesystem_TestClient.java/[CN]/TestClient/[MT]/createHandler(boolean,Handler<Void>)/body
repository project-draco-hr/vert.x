{
  return new AsyncResultHandler<Void>(){
    public void handle(    AsyncResult<Void> event){
      tu.checkThread();
      if (event.failed()) {
        if (shouldPass) {
          tu.exception(event.cause(),"operation failed");
        }
 else {
          tu.azzert(event.cause() instanceof FileSystemException);
          if (afterOK != null) {
            afterOK.handle(null);
          }
          tu.testComplete();
        }
      }
 else {
        if (shouldPass) {
          if (afterOK != null) {
            afterOK.handle(null);
          }
          tu.testComplete();
        }
 else {
          tu.azzert(false,"operation should fail");
        }
      }
    }
  }
;
}
