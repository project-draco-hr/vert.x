{
  AsyncResultHandler<FileProps> handler=new AsyncResultHandler<FileProps>(){
    public void handle(    AsyncResult<FileProps> ar){
      tu.checkThread();
      if (ar.failed()) {
        if (shouldPass) {
          tu.exception(ar.cause(),"stat failed");
        }
 else {
          tu.azzert(ar.cause() instanceof FileSystemException);
          if (afterOK != null) {
            afterOK.handle(ar.result());
          }
          tu.testComplete();
        }
      }
 else {
        if (shouldPass) {
          if (afterOK != null) {
            afterOK.handle(ar.result());
          }
          tu.testComplete();
        }
 else {
          tu.azzert(false,"stat should fail");
        }
      }
    }
  }
;
  if (link) {
    vertx.fileSystem().lprops(TEST_DIR + pathSep + fileName,handler);
  }
 else {
    vertx.fileSystem().props(TEST_DIR + pathSep + fileName,handler);
  }
}
