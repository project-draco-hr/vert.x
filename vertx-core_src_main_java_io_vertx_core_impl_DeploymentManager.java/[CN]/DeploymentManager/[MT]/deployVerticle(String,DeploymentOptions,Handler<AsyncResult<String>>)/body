{
  ContextImpl currentContext=vertx.getOrCreateContext();
  ClassLoader cl=getClassLoader(options.getIsolationGroup(),options);
  VerticleFactory verticleFactory=null;
  int pos=verticleName.indexOf(':');
  String lookup=null;
  String actualName;
  if (pos != -1) {
    lookup=verticleName.substring(0,pos);
    actualName=getSuffix(pos,verticleName);
  }
 else {
    pos=verticleName.lastIndexOf('.');
    if (pos != -1) {
      lookup=getSuffix(pos,verticleName);
      actualName=verticleName;
    }
 else {
      verticleFactory=DEFAULT_VERTICLE_FACTORY;
      actualName=verticleName;
    }
  }
  if (verticleFactory == null) {
    verticleFactory=verticleFactories.get(lookup);
    if (verticleFactory == null) {
      verticleFactory=DEFAULT_VERTICLE_FACTORY;
    }
  }
  try {
    Verticle verticle=verticleFactory.createVerticle(actualName,cl);
    if (verticle == null) {
      reportFailure(new NullPointerException("VerticleFactory::createVerticle returned null"),currentContext,completionHandler);
    }
 else {
      doDeploy(verticleName,verticle,options,currentContext,completionHandler,cl);
    }
  }
 catch (  Exception e) {
    reportFailure(e,currentContext,completionHandler);
  }
}
