{
  long start=System.currentTimeMillis();
  try {
    atest.await();
  }
 catch (  IllegalStateException error) {
    long now=System.currentTimeMillis();
    assertTrue(error.getMessage().startsWith("Timed out in waiting for test complete"));
    long delay=now - start;
    long defaultTimeout=10000;
    assertTrue(delay >= defaultTimeout);
    assertTrue(delay < defaultTimeout * 1.5);
  }
}
