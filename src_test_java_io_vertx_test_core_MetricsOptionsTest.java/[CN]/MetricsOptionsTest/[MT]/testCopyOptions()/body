{
  MetricsOptions options=new MetricsOptions();
  Random rand=new Random();
  boolean metricsEnabled=rand.nextBoolean();
  boolean jmxEnabled=rand.nextBoolean();
  String jmxDomain=TestUtils.randomAlphaString(100);
  options.setEnabled(metricsEnabled);
  options.setJmxEnabled(jmxEnabled);
  options.setJmxDomain(jmxDomain);
  options=new MetricsOptions(options);
  assertEquals(metricsEnabled || jmxEnabled,options.isEnabled());
  assertEquals(jmxEnabled,options.isJmxEnabled());
  assertEquals(jmxDomain,options.getJmxDomain());
}
