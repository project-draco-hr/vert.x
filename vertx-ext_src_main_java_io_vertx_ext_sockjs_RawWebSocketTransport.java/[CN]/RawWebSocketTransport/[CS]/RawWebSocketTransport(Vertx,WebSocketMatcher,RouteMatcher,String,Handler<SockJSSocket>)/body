{
  String wsRE=basePath + "/websocket";
  wsMatcher.addRegEx(wsRE,new Handler<WebSocketMatcher.Match>(){
    public void handle(    final WebSocketMatcher.Match match){
      SockJSSocket sock=new RawWSSockJSSocket(vertx,match.ws);
      sockHandler.handle(sock);
    }
  }
);
  rm.getWithRegEx(wsRE,new Handler<HttpServerRequest>(){
    public void handle(    HttpServerRequest request){
      request.response().setStatusCode(400);
      request.response().writeStringAndEnd("Can \"Upgrade\" only to \"WebSocket\".");
    }
  }
);
  rm.allWithRegEx(wsRE,new Handler<HttpServerRequest>(){
    public void handle(    HttpServerRequest request){
      request.response().headers().set("Allow","GET");
      request.response().setStatusCode(405);
      request.response().end();
    }
  }
);
}
