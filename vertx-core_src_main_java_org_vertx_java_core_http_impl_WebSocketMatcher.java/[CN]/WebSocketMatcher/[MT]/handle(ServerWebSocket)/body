{
  String path=ws.path();
  for (  PatternBinding binding : bindings) {
    Matcher m=binding.pattern.matcher(path);
    if (m.matches()) {
      params=new HashMap<>(m.groupCount());
      if (binding.paramNames != null) {
        for (        String param : binding.paramNames) {
          params.put(param,m.group(param));
        }
      }
 else {
        for (int i=0; i < m.groupCount(); i++) {
          params.put("param" + i,m.group(i + 1));
        }
      }
      handler=binding.handler;
      handler.handle(new Match(params,ws));
      params=null;
      handler=null;
      return;
    }
  }
  if (noMatchHandler != null) {
    noMatchHandler.handle(new Match(null,ws));
  }
 else {
    ws.reject();
  }
}
