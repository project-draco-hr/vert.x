{
  if (!conn.isValid()) {
    queue.getConnection(waiter);
  }
 else   if (waiter.isCancelled()) {
    recycle(conn);
  }
 else {
    waiter.handleStream(createStream(conn));
  }
}
