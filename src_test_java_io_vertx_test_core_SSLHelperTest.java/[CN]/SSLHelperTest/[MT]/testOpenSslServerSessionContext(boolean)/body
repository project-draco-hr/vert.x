{
  HttpServerOptions httpServerOptions=new HttpServerOptions().setOpenSslEngineOptions(new OpenSSLEngineOptions());
  if (!testDefault) {
    httpServerOptions.setOpenSslEngineOptions(new OpenSSLEngineOptions().setSessionCacheEnabled(false));
  }
  SSLHelper defaultHelper=new SSLHelper(httpServerOptions,TLSCert.PEM.getServerKeyCertOptions(),TLSCert.PEM.getServerTrustOptions());
  SslContext ctx=defaultHelper.getContext((VertxInternal)vertx);
  assertTrue(ctx instanceof OpenSslServerContext);
  SSLSessionContext sslSessionContext=ctx.sessionContext();
  assertTrue(sslSessionContext instanceof OpenSslServerSessionContext);
  if (sslSessionContext instanceof OpenSslServerSessionContext) {
    assertEquals(testDefault,((OpenSslServerSessionContext)sslSessionContext).isSessionCacheEnabled());
  }
}
