{
  final String mxRecord="mail.vertx.io";
  final int prio=10;
  DnsClient dns=prepareDns(TestDnsServer.testResolveMX(prio,mxRecord));
  dns.resolveMX("vertx.io",new Handler<AsyncResult<List<MxRecord>>>(){
    @Override public void handle(    AsyncResult<List<MxRecord>> event){
      tu.checkThread();
      List<MxRecord> result=event.result();
      tu.azzert(!result.isEmpty());
      tu.azzert(1 == result.size());
      MxRecord record=result.get(0);
      tu.azzert(record.priority() == prio);
      tu.azzert(mxRecord.equals(record.name()));
      tu.testComplete();
    }
  }
);
}
