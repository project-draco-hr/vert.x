{
  final String cname="cname.vertx.io";
  DnsClient dns=prepareDns(TestDnsServer.testResolveCNAME(cname));
  dns.resolveCNAME("vertx.io",new Handler<AsyncResult<List<String>>>(){
    @Override public void handle(    AsyncResult<List<String>> event){
      List<String> result=event.result();
      tu.azzert(!result.isEmpty());
      tu.azzert(result.size() == 1);
      String record=result.get(0);
      tu.azzert(!record.isEmpty());
      tu.azzert(cname.equals(record));
      tu.testComplete();
    }
  }
);
}
