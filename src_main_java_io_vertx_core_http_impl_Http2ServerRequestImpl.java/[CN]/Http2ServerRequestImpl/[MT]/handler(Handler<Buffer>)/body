{
synchronized (conn) {
    checkEnded();
    dataHandler=handler;
  }
  return this;
}
