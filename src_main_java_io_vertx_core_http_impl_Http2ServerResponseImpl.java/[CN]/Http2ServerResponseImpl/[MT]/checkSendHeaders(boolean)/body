{
  if (!headWritten) {
    if (headersEndHandler != null) {
      headersEndHandler.handle(null);
    }
    headWritten=true;
    headers.status(Integer.toString(statusCode));
    encoder.writeHeaders(ctx,stream.id(),headers,0,end,ctx.newPromise());
    if (end) {
      ctx.flush();
    }
    return true;
  }
 else {
    return false;
  }
}
