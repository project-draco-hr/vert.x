{
  if (resp.getStatus().code() == 100) {
    requestForResponse=requests.peek();
  }
 else {
    requestForResponse=requests.poll();
  }
  if (requestForResponse == null) {
    throw new IllegalStateException("No response handler");
  }
  HttpClientResponseImpl nResp=new HttpClientResponseImpl(requestForResponse,this,resp.status().code(),resp.status().reasonPhrase(),new HeadersAdaptor(resp.headers()));
  currentResponse=nResp;
  requestForResponse.handleResponse(nResp);
}
