{
  int i=idx % size;
  return i < 0 ? i + size : i;
}
