{
  try {
    JsonArray deployments=theHAInfo.getArray("mods");
    String group=theHAInfo.getString("group");
    String chosen=chooseHashedNode(group,failedNodeID.hashCode());
    if (chosen != null && chosen.equals(this.nodeID)) {
      log.info("Node " + failedNodeID + " has failed. This node will deploy "+ deployments.size()+ " deployments from that node.");
      if (deployments != null) {
        for (        Object obj : deployments) {
          JsonObject app=(JsonObject)obj;
          processFailover(app);
        }
      }
      clusterMap.remove(failedNodeID);
      if (failoverCompleteHandler != null) {
        failoverCompleteHandler.handle(true);
      }
    }
  }
 catch (  Throwable t) {
    log.error("Failed to handle failover",t);
    if (failoverCompleteHandler != null) {
      failoverCompleteHandler.handle(false);
    }
  }
}
