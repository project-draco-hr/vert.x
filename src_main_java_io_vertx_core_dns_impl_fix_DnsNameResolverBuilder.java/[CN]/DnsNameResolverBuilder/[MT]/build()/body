{
  if (resolveCache != null && (minTtl != null || maxTtl != null || negativeTtl != null)) {
    throw new IllegalStateException("resolveCache and TTLs are mutually exclusive");
  }
  DnsCache cache=resolveCache != null ? resolveCache : new DefaultDnsCache(intValue(minTtl,0),intValue(maxTtl,Integer.MAX_VALUE),intValue(negativeTtl,0));
  return new DnsNameResolver(eventLoop,channelFactory,localAddress,nameServerAddresses,cache,queryTimeoutMillis,resolvedAddressTypes,recursionDesired,maxQueriesPerResolve,traceEnabled,maxPayloadSize,optResourceEnabled,hostsFileEntriesResolver,searchDomains,ndots);
}
