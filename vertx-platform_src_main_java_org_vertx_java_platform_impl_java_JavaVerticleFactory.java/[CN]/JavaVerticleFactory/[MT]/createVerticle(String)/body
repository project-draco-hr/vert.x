{
  String className=main;
  Class<?> clazz;
  if (isJavaSource(main)) {
    CompilingClassLoader compilingLoader=new CompilingClassLoader(cl,main);
    className=compilingLoader.resolveMainClassName();
    clazz=compilingLoader.loadClass(className);
  }
 else {
    clazz=cl.loadClass(className);
  }
  Verticle verticle=(Verticle)clazz.newInstance();
  verticle.setVertx(vertx);
  verticle.setContainer(container);
  return verticle;
}
