{
  Cluster cluster=new Cluster();
  cluster.nodes.add(new NodeMods("group1"));
  cluster.nodes.add(new NodeMods("group1"));
  cluster.nodes.add(new NodeMods("group2"));
  cluster.nodes.add(new NodeMods("group2"));
  cluster.nodes.add(new NodeMods("group3"));
  cluster.nodes.add(new NodeMods("group3"));
  cluster.createCluster();
  cluster.deployMods(0,new NodeMods().addDeployment(new DepInfo("io.vertx~ha-test1~1.0")));
  cluster.deployMods(1,new NodeMods().addDeployment(new DepInfo("io.vertx~ha-test1~1.0")));
  cluster.deployMods(2,new NodeMods().addDeployment(new DepInfo("io.vertx~ha-test1~1.0")));
  cluster.deployMods(3,new NodeMods().addDeployment(new DepInfo("io.vertx~ha-test1~1.0")));
  cluster.deployMods(4,new NodeMods().addDeployment(new DepInfo("io.vertx~ha-test1~1.0")));
  cluster.deployMods(5,new NodeMods().addDeployment(new DepInfo("io.vertx~ha-test1~1.0")));
  assertEquals(0,cluster.killNode(0));
  cluster.closeNode(0);
  assertEquals(0,cluster.killNode(0));
  cluster.closeNode(0);
  assertEquals(0,cluster.killNode(0));
  cluster.closeNode(0);
  cluster.closeCluster();
}
