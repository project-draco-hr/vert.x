{
  vertx.executeBlocking(new Action<Void>(){
    public Void perform(){
      Iterator<Map.Entry<K,ChoosableSet<V>>> mapIter=map.entrySet().iterator();
      while (mapIter.hasNext()) {
        Map.Entry<K,ChoosableSet<V>> entry=mapIter.next();
        ChoosableSet<V> vals=entry.getValue();
        Iterator<V> iter=vals.iterator();
        while (iter.hasNext()) {
          V val=iter.next();
          if (val.equals(v)) {
            iter.remove();
          }
        }
        if (vals.isEmpty()) {
          mapIter.remove();
        }
      }
      return null;
    }
  }
,completionHandler);
}
