{
  super.close();
  if (heartbeatID != -1) {
    vertx.cancelTimer(heartbeatID);
  }
  if (timeoutTimerID != -1) {
    vertx.cancelTimer(timeoutTimerID);
  }
  if (id != null) {
    sessions.remove(id);
  }
  if (!closed) {
    closed=true;
    if (endHandler != null) {
      endHandler.handle(null);
    }
  }
}
