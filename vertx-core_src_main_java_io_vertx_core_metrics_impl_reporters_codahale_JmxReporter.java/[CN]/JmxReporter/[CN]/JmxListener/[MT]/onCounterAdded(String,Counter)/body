{
  try {
    if (filter.matches(name,counter)) {
      final ObjectName objectName=createName("counters",name);
      mBeanServer.registerMBean(new JmxCounter(counter,objectName),objectName);
      registered.add(objectName);
    }
  }
 catch (  InstanceAlreadyExistsException e) {
    LOGGER.debug("Unable to register counter",e);
  }
catch (  JMException e) {
    LOGGER.warn("Unable to register counter",e);
  }
}
