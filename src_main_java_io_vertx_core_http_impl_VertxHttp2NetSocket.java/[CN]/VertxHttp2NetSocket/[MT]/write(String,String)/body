{
  if (enc == null) {
    write(str);
  }
 else {
    writeData(Unpooled.copiedBuffer(str,Charset.forName(enc)),false);
  }
  return this;
}
