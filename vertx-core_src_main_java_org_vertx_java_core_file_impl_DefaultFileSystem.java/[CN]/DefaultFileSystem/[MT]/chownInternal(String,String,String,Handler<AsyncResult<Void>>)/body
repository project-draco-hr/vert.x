{
  final Path target=PathAdjuster.adjust(vertx,Paths.get(path));
  final UserPrincipalLookupService service=target.getFileSystem().getUserPrincipalLookupService();
  return new BlockingAction<Void>(vertx,handler){
    public Void action(){
      try {
        final UserPrincipal userPrincipal=user == null ? null : service.lookupPrincipalByName(user);
        final UserPrincipal groupPrincipal=group == null ? null : service.lookupPrincipalByGroupName(group);
        if (userPrincipal != null) {
          Files.setOwner(target,userPrincipal);
        }
        if (groupPrincipal != null) {
          Files.setOwner(target,groupPrincipal);
        }
      }
 catch (      SecurityException e) {
        throw new FileSystemException("Accessed denied for chown on " + target);
      }
catch (      IOException e) {
        throw new FileSystemException(e);
      }
      return null;
    }
  }
;
}
