{
  if (log.isTraceEnabled())   log.trace("EventSource, sending frame");
  if (!headersWritten) {
    req.response().headers().set("Content-Type","text/event-stream; charset=UTF-8");
    setNoCacheHeaders(req);
    setJSESSIONID(config,req);
    req.response().setChunked(true);
    req.response().write("\r\n");
    headersWritten=true;
  }
  StringBuilder sb=new StringBuilder();
  sb.append("data: ");
  sb.append(body);
  sb.append("\r\n\r\n");
  Buffer buff=new Buffer(sb.toString());
  req.response().write(buff);
  bytesSent+=buff.length();
  if (bytesSent >= maxBytesStreaming) {
    if (log.isTraceEnabled())     log.trace("More than maxBytes sent so closing connection");
    close();
  }
}
