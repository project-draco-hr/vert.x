{
  JsonObject config=new JsonObject().put("foo","bar");
  Random rand=new Random();
  boolean worker=rand.nextBoolean();
  boolean multiThreaded=rand.nextBoolean();
  String isolationGroup=TestUtils.randomAlphaString(100);
  boolean ha=rand.nextBoolean();
  List<String> cp=Arrays.asList("foo","bar");
  JsonObject json=new JsonObject();
  json.put("config",config);
  json.put("worker",worker);
  json.put("multiThreaded",multiThreaded);
  json.put("isolationGroup",isolationGroup);
  json.put("ha",ha);
  json.put("extraClasspath",new JsonArray(cp));
  json.put("redeploy",true);
  json.put("redeployGracePeriod",1234);
  json.put("redeployScanPeriod",4567);
  DeploymentOptions options=new DeploymentOptions(json);
  assertEquals(worker,options.isWorker());
  assertEquals(multiThreaded,options.isMultiThreaded());
  assertEquals(isolationGroup,options.getIsolationGroup());
  assertEquals("bar",options.getConfig().getString("foo"));
  assertEquals(ha,options.isHa());
  assertEquals(cp,options.getExtraClasspath());
  assertTrue(options.isRedeploy());
  assertEquals(1234,options.getRedeployGracePeriod());
  assertEquals(4567,options.getRedeployScanPeriod());
}
