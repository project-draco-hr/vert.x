{
  DeploymentOptions options=new DeploymentOptions();
  JsonObject config=new JsonObject().put("foo","bar");
  Random rand=new Random();
  boolean worker=rand.nextBoolean();
  boolean multiThreaded=rand.nextBoolean();
  String isolationGroup=TestUtils.randomAlphaString(100);
  boolean ha=rand.nextBoolean();
  List<String> cp=Arrays.asList("foo","bar");
  List<String> isol=Arrays.asList("com.foo.MyClass","org.foo.*");
  options.setConfig(config);
  options.setWorker(worker);
  options.setMultiThreaded(multiThreaded);
  options.setIsolationGroup(isolationGroup);
  options.setHa(ha);
  options.setExtraClasspath(cp);
  options.setIsolatedClasses(isol);
  JsonObject json=options.toJson();
  DeploymentOptions copy=new DeploymentOptions(json);
  assertEquals(worker,copy.isWorker());
  assertEquals(multiThreaded,copy.isMultiThreaded());
  assertEquals(isolationGroup,copy.getIsolationGroup());
  assertEquals("bar",copy.getConfig().getString("foo"));
  assertEquals(ha,copy.isHa());
  assertEquals(cp,copy.getExtraClasspath());
  assertEquals(isol,copy.getIsolatedClasses());
}
