{
  super.setUp();
  webRoot="webroot3";
  prevCL=Thread.currentThread().getContextClassLoader();
  URL webroot3URL=prevCL.getResource("webroot3.jar");
  ClassLoader loader=new ClassLoader(prevCL=Thread.currentThread().getContextClassLoader()){
    @Override public URL getResource(    String name){
      try {
        if (name.startsWith("lib/")) {
          return new URL("jar:" + webroot3URL + "!/"+ name);
        }
 else         if (name.startsWith("webroot3")) {
          return new URL("jar:" + webroot3URL + "!/lib/nested.jar!/"+ name.substring(7));
        }
      }
 catch (      MalformedURLException e) {
        throw new AssertionError(e);
      }
      return super.getResource(name);
    }
  }
;
  Thread.currentThread().setContextClassLoader(loader);
}
