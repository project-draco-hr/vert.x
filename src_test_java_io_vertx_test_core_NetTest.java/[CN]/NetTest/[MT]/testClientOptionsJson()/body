{
  int sendBufferSize=TestUtils.randomPositiveInt();
  int receiverBufferSize=TestUtils.randomPortInt();
  Random rand=new Random();
  boolean reuseAddress=rand.nextBoolean();
  int trafficClass=TestUtils.randomByte() + 128;
  boolean tcpNoDelay=rand.nextBoolean();
  boolean tcpKeepAlive=rand.nextBoolean();
  int soLinger=TestUtils.randomPositiveInt();
  boolean usePooledBuffers=rand.nextBoolean();
  int idleTimeout=TestUtils.randomPositiveInt();
  boolean ssl=rand.nextBoolean();
  JksOptions keyStoreOptions=new JksOptions();
  String ksPassword=TestUtils.randomAlphaString(100);
  keyStoreOptions.setPassword(ksPassword);
  String ksPath=TestUtils.randomAlphaString(100);
  keyStoreOptions.setPath(ksPath);
  JksOptions trustStoreOptions=new JksOptions();
  String tsPassword=TestUtils.randomAlphaString(100);
  trustStoreOptions.setPassword(tsPassword);
  String tsPath=TestUtils.randomAlphaString(100);
  trustStoreOptions.setPath(tsPath);
  String enabledCipher=TestUtils.randomAlphaString(100);
  int connectTimeout=TestUtils.randomPositiveInt();
  boolean trustAll=rand.nextBoolean();
  String crlPath=TestUtils.randomUnicodeString(100);
  int reconnectAttempts=TestUtils.randomPositiveInt();
  long reconnectInterval=TestUtils.randomPositiveInt();
  boolean useAlpn=TestUtils.randomBoolean();
  String hostnameVerificationAlgorithm=TestUtils.randomAlphaString(10);
  SSLEngine sslEngine=TestUtils.randomBoolean() ? SSLEngine.JDK : SSLEngine.OPENSSL;
  JsonObject json=new JsonObject();
  json.put("sendBufferSize",sendBufferSize).put("receiveBufferSize",receiverBufferSize).put("reuseAddress",reuseAddress).put("trafficClass",trafficClass).put("tcpNoDelay",tcpNoDelay).put("tcpKeepAlive",tcpKeepAlive).put("soLinger",soLinger).put("usePooledBuffers",usePooledBuffers).put("idleTimeout",idleTimeout).put("ssl",ssl).put("enabledCipherSuites",new JsonArray().add(enabledCipher)).put("connectTimeout",connectTimeout).put("trustAll",trustAll).put("crlPaths",new JsonArray().add(crlPath)).put("keyStoreOptions",new JsonObject().put("password",ksPassword).put("path",ksPath)).put("trustStoreOptions",new JsonObject().put("password",tsPassword).put("path",tsPath)).put("reconnectAttempts",reconnectAttempts).put("reconnectInterval",reconnectInterval).put("useAlpn",useAlpn).put("sslEngine",sslEngine.name()).put("hostnameVerificationAlgorithm",hostnameVerificationAlgorithm);
  NetClientOptions options=new NetClientOptions(json);
  assertEquals(sendBufferSize,options.getSendBufferSize());
  assertEquals(receiverBufferSize,options.getReceiveBufferSize());
  assertEquals(reuseAddress,options.isReuseAddress());
  assertEquals(trafficClass,options.getTrafficClass());
  assertEquals(tcpKeepAlive,options.isTcpKeepAlive());
  assertEquals(tcpNoDelay,options.isTcpNoDelay());
  assertEquals(soLinger,options.getSoLinger());
  assertEquals(usePooledBuffers,options.isUsePooledBuffers());
  assertEquals(idleTimeout,options.getIdleTimeout());
  assertEquals(ssl,options.isSsl());
  assertNotSame(keyStoreOptions,options.getKeyCertOptions());
  assertEquals(ksPassword,((JksOptions)options.getKeyCertOptions()).getPassword());
  assertEquals(ksPath,((JksOptions)options.getKeyCertOptions()).getPath());
  assertNotSame(trustStoreOptions,options.getTrustOptions());
  assertEquals(tsPassword,((JksOptions)options.getTrustOptions()).getPassword());
  assertEquals(tsPath,((JksOptions)options.getTrustOptions()).getPath());
  assertEquals(1,options.getEnabledCipherSuites().size());
  assertTrue(options.getEnabledCipherSuites().contains(enabledCipher));
  assertEquals(connectTimeout,options.getConnectTimeout());
  assertEquals(trustAll,options.isTrustAll());
  assertEquals(1,options.getCrlPaths().size());
  assertEquals(crlPath,options.getCrlPaths().get(0));
  assertEquals(reconnectAttempts,options.getReconnectAttempts());
  assertEquals(reconnectInterval,options.getReconnectInterval());
  assertEquals(useAlpn,options.isUseAlpn());
  assertEquals(sslEngine,options.getSslEngine());
  assertEquals(hostnameVerificationAlgorithm,options.getHostnameVerificationAlgorithm());
  json.remove("keyStoreOptions");
  json.remove("trustStoreOptions");
  json.put("pfxKeyCertOptions",new JsonObject().put("password",ksPassword)).put("pfxTrustOptions",new JsonObject().put("password",tsPassword));
  options=new NetClientOptions(json);
  assertTrue(options.getTrustOptions() instanceof PfxOptions);
  assertTrue(options.getKeyCertOptions() instanceof PfxOptions);
  json.remove("pfxKeyCertOptions");
  json.remove("pfxTrustOptions");
  json.put("pemKeyCertOptions",new JsonObject()).put("pemTrustOptions",new JsonObject());
  options=new NetClientOptions(json);
  assertTrue(options.getTrustOptions() instanceof PemTrustOptions);
  assertTrue(options.getKeyCertOptions() instanceof PemKeyCertOptions);
}
