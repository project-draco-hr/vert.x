{
  return new Handler<HttpServerRequest>(){
    public void handle(    HttpServerRequest req){
      if (log.isTraceEnabled())       log.trace("In CORS options handler");
      req.response().headers().set("Cache-Control","public,max-age=31536000");
      long oneYearSeconds=365 * 24 * 60* 60;
      long oneYearms=oneYearSeconds * 1000;
      String expires=new SimpleDateFormat("EEE, dd MMM yyyy HH:mm:ss zzz").format(new Date(System.currentTimeMillis() + oneYearms));
      req.response().headers().set("Expires",expires);
      req.response().headers().set("Access-Control-Allow-Methods",methods);
      req.response().headers().set("Access-Control-Max-Age",String.valueOf(oneYearSeconds));
      setCORS(req);
      setJSESSIONID(config,req);
      req.response().setStatusCode(204);
      req.response().end();
    }
  }
;
}
