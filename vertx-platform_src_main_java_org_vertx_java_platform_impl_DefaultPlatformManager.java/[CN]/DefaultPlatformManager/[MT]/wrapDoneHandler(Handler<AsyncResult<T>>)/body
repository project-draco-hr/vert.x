{
  if (doneHandler == null) {
    return new AsyncResultHandler<T>(){
      @Override public void handle(      AsyncResult<T> res){
        if (res.failed()) {
          vertx.reportException(res.cause());
        }
      }
    }
;
  }
 else {
    final DefaultContext context=vertx.getContext();
    return new AsyncResultHandler<T>(){
      @Override public void handle(      final AsyncResult<T> res){
        if (context == null) {
          doneHandler.handle(res);
        }
 else {
          context.execute(new Runnable(){
            public void run(){
              doneHandler.handle(res);
            }
          }
);
        }
      }
    }
;
  }
}
