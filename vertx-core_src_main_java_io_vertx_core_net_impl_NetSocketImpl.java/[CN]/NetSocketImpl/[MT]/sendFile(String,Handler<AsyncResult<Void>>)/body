{
  File f=new File(PathAdjuster.adjust(vertx,filename));
  if (f.isDirectory()) {
    throw new IllegalArgumentException("filename must point to a file and not to a directory");
  }
  ChannelFuture future=super.sendFile(f);
  if (resultHandler != null) {
    future.addListener(new ChannelFutureListener(){
      public void operationComplete(      ChannelFuture future) throws Exception {
        final AsyncResult<Void> res;
        if (future.isSuccess()) {
          res=new FutureResultImpl<>((Void)null);
        }
 else {
          res=new FutureResultImpl<>(future.cause());
        }
        vertx.runOnContext(new Handler<Void>(){
          @Override public void handle(          Void v){
            resultHandler.handle(res);
          }
        }
);
      }
    }
);
  }
  return this;
}
