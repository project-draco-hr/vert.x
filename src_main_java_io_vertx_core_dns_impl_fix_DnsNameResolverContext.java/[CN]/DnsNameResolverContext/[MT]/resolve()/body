{
  InetSocketAddress nameServerAddrToTry=nameServerAddrs.next();
  for (  InternetProtocolFamily f : resolveAddressTypes) {
    final DnsRecordType type;
switch (f) {
case IPv4:
      type=DnsRecordType.A;
    break;
case IPv6:
  type=DnsRecordType.AAAA;
break;
default :
throw new Error();
}
query(nameServerAddrToTry,new DefaultDnsQuestion(hostname,type));
}
}
