{
  final String name=question.name().toLowerCase(Locale.US);
  String resolved=name;
  boolean found=false;
  while (!cnames.isEmpty()) {
    final String next=cnames.remove(resolved);
    if (next != null) {
      found=true;
      resolved=next;
    }
 else {
      break;
    }
  }
  if (found) {
    followCname(response.sender(),name,resolved);
  }
 else   if (trace && traceEnabled) {
    addTrace(response.sender(),"no matching CNAME record found");
  }
}
