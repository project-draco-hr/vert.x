{
  Future<String> f1=Future.future();
  Future<Integer> f2=Future.future();
  CompositeFuture composite=CompositeFuture.and(f1,f2);
  assertFalse(composite.succeeded());
  f1.complete("s");
  assertFalse(composite.succeeded());
  Exception cause=new Exception();
  f2.fail(cause);
  assertTrue(composite.failed());
  assertEquals(cause,composite.cause());
}
