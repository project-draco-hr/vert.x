{
  start();
  runnable.run();
  long now=System.currentTimeMillis();
  StringBuilder acc=new StringBuilder(get());
  while (!predicate.test(acc.toString())) {
    Assert.assertTrue("Was not expecting this output " + acc,System.currentTimeMillis() - now < 5000);
    try {
      Thread.sleep(1);
    }
 catch (    InterruptedException e) {
      Thread.currentThread().interrupt();
      throw new AssertionError(e);
    }
    acc.append(get());
  }
  stop();
}
