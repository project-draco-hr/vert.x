{
  if (ws != null) {
    metrics.disconnected(ws.getMetric());
    ws.setMetric(null);
  }
  super.handleClosed();
  if (ws != null) {
    ws.handleClosed();
  }
  if (pendingResponse != null) {
    pendingResponse.handleClosed();
  }
}
